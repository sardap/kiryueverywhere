(function(t){function e(e){for(var n,s,i=e[0],c=e[1],u=e[2],m=0,_=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&_.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(_.length)_.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/kiryueverywhere/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"1fc1":function(t,e,a){"use strict";a("4978")},4978:function(t,e,a){},"818d":function(t,e,a){},a9ed:function(t,e,a){},ad75:function(t,e,a){"use strict";a("a9ed")},cd49:function(t,e,a){"use strict";a.r(e);var n=a("7a23");const o=Object(n["g"])("h2",null,"🗺️ KIRYU EVERYWHERE! 🗺️",-1),r=Object(n["g"])("br",null,null,-1),s=Object(n["g"])("h3",null,[Object(n["g"])("a",{href:"https://forms.gle/L1vSvZaWFRmz6Vug7"},"Fill out this Survey To help out!")],-1),i={class:"location_select"},c=Object(n["g"])("h2",null,"Location Selector",-1),u=["value"],l=Object(n["g"])("h3",null,"THIS HAS NOTHING TO DO WITH SEGA",-1),m=Object(n["g"])("h3",null,[Object(n["h"])("MADE BY "),Object(n["g"])("a",{href:"paul@sarda.dev"},"paul@sarda.dev")],-1),_={key:1},g=Object(n["g"])("h2",{class:"emergency_font"},[Object(n["h"])(" This is bad please email "),Object(n["g"])("a",{href:"paul@sarda.dev"},"paul@sarda.dev"),Object(n["h"])(" and tell him he forgot to update the site. ")],-1),h=[g],p={key:2},b={for:"debug_checkbox"},k={key:3},d=Object(n["g"])("p",null,"Select location",-1),y=Object(n["g"])("br",null,null,-1),O=Object(n["g"])("br",null,null,-1);function x(t,e,a,g,x,f){const j=Object(n["u"])("Game"),w=Object(n["u"])("DialogWrapper");return Object(n["o"])(),Object(n["f"])("div",null,[o,t.location_number<=t.location_count?(Object(n["o"])(),Object(n["f"])("div",{key:t.location_number},[Object(n["g"])("h3",null,"LOCATION #"+Object(n["x"])(t.location_number),1),Object(n["g"])("p",null,Object(n["x"])(t.getGameName().toUpperCase()),1),Object(n["i"])(j,{map:t.getMap(),number:t.location_number,threshold:t.getThreshold(),target:t.getTarget(),debug_mode:t.debug_mode,on_complete:t.onComplete()},null,8,["map","number","threshold","target","debug_mode","on_complete"]),r,Object(n["g"])("button",{onClick:e[0]||(e[0]=e=>t.openStats()),class:"stats"},"📈Stats📈"),s,Object(n["g"])("div",i,[c,Object(n["D"])(Object(n["g"])("select",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.location_number=e)},[(Object(n["o"])(!0),Object(n["f"])(n["a"],null,Object(n["t"])(t.max_location_number,t=>(Object(n["o"])(),Object(n["f"])("option",{key:t,value:t}," #"+Object(n["x"])(t),9,u))),128))],512),[[n["z"],t.location_number]])]),l,m])):(Object(n["o"])(),Object(n["f"])("div",_,h)),Object(n["i"])(w),t.dev_possible?(Object(n["o"])(),Object(n["f"])("div",p,[Object(n["D"])(Object(n["g"])("input",{type:"checkbox",id:"debug_checkbox","onUpdate:modelValue":e[2]||(e[2]=e=>t.debug_mode=e)},null,512),[[n["y"],t.debug_mode]]),Object(n["g"])("label",b,"Debug Mode: "+Object(n["x"])(t.debug_mode),1)])):Object(n["e"])("",!0),t.debug_mode?(Object(n["o"])(),Object(n["f"])("div",k,[d,Object(n["D"])(Object(n["g"])("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.location_number=e)},null,512),[[n["A"],t.location_number]]),y,O,Object(n["g"])("button",{onClick:e[4]||(e[4]=e=>t.resetGuessesCookie())},"Reset Cookie"),Object(n["g"])("p",null,"Cookie: "+Object(n["x"])(t.current_cookie),1)])):Object(n["e"])("",!0)])}const f=t=>(Object(n["r"])("data-v-5e9c77ab"),t=t(),Object(n["p"])(),t),j={class:"game"},w=["src"],z=f(()=>Object(n["g"])("br",null,null,-1)),v={class:"buttons"},S={key:0},Y={key:1},T={key:0},C=f(()=>Object(n["g"])("h2",null,"YOU WON",-1)),I={key:1},$=f(()=>Object(n["g"])("h2",null,"YOU LOST",-1)),M=f(()=>Object(n["g"])("h3",null,"TRY AGAIN TOMORROW!",-1)),N=[$,M],L=f(()=>Object(n["g"])("br",null,null,-1)),E={key:2},D={key:3},U=["src"],W=["src"],F={key:4};function K(t,e,a,o,r,s){return Object(n["o"])(),Object(n["f"])("div",j,[Object(n["g"])("img",{src:`${t.public_path}games/${t.number}/${t.active_pic}.webp`,class:"game_image"},null,8,w),z,Object(n["g"])("div",v,[Object(n["g"])("div",null,[Object(n["g"])("button",{onClick:e[0]||(e[0]=e=>t.showLocationImage(1)),class:Object(n["m"])(t.getClassForLocationImage(1))}," 1 ",2),Object(n["g"])("button",{onClick:e[1]||(e[1]=e=>t.showLocationImage(2)),class:Object(n["m"])(t.getClassForLocationImage(2))}," 2 ",2),Object(n["g"])("button",{onClick:e[2]||(e[2]=e=>t.showLocationImage(3)),class:Object(n["m"])(t.getClassForLocationImage(3))}," 3 ",2),Object(n["g"])("button",{onClick:e[3]||(e[3]=e=>t.showLocationImage(4)),class:Object(n["m"])(t.getClassForLocationImage(4))}," 4 ",2)])]),"playing"==this.getState()?(Object(n["o"])(),Object(n["f"])("div",S,[Object(n["g"])("h3",null,Object(n["x"])(t.guessesLeftCount())+" GUESSES LEFT",1)])):(Object(n["o"])(),Object(n["f"])("div",Y,["win"==this.getState()?(Object(n["o"])(),Object(n["f"])("div",T,[C,Object(n["g"])("h3",null,"WITH "+Object(n["x"])(t.guessesLeftCount())+" GUESSES LEFT",1)])):Object(n["e"])("",!0),"lose"==this.getState()?(Object(n["o"])(),Object(n["f"])("div",I,N)):Object(n["e"])("",!0),Object(n["g"])("h3",null,"NEXT LOCATION IN "+Object(n["x"])(t.countdownUntilTomorrow),1)])),Object(n["g"])("canvas",{id:"canvas",onClick:e[4]||(e[4]=(...e)=>t.canvasClick&&t.canvasClick(...e))}),L,"playing"==this.getState()?(Object(n["o"])(),Object(n["f"])("div",E,[Object(n["g"])("button",{class:Object(n["m"])(null==this.selected_x?"submit disabled":"submit"),onClick:e[5]||(e[5]=(...e)=>t.submitButton&&t.submitButton(...e))}," SUBMIT ",2)])):(Object(n["o"])(),Object(n["f"])("div",D,[Object(n["g"])("button",{onClick:e[6]||(e[6]=(...e)=>t.shareClick&&t.shareClick(...e)),class:"submit"},Object(n["x"])(this.share_text),1)])),Object(n["g"])("img",{id:"map",src:`${t.public_path}maps/${t.map}.webp`,hidden:"true"},null,8,U),Object(n["g"])("img",{id:"target_icon",src:this.public_path+"images/blad_kiryu.webp",hidden:"true"},null,8,W),t.debug_mode?(Object(n["o"])(),Object(n["f"])("div",F,[Object(n["g"])("p",null,"DEBUG X:"+Object(n["x"])(this.click_debug_x),1),Object(n["g"])("p",null,"DEBUG Y:"+Object(n["x"])(this.click_debug_y),1)])):Object(n["e"])("",!0)])}var R,A=a("9ab4"),P=a("ce1f");a("5b81");function B(t){switch(t){case 0:return R.NotFinal;case 1:return R.Win;case 2:return R.Lose}return R.NotFinal}function G(t,e){const a=e+"=",n=decodeURIComponent(t.cookie),o=n.split(";");for(let r=0;r<o.length;r++){let t=o[r];while(" "==t.charAt(0))t=t.substring(1);if(0==t.indexOf(a))return t.substring(a.length,t.length)}return""}function H(t,e){const a=new Date;a.setTime(a.getTime());const n="expires="+a.toUTCString();t.cookie=e+"={};"+n}(function(t){t[t["NotFinal"]=0]="NotFinal",t[t["Win"]=1]="Win",t[t["Lose"]=2]="Lose"})(R||(R={}));const V="guesses",X="new_guesses";function J(t){H(t,X)}function Z(t){const e=G(t,V);""!=e&&H(t,V);const a={guesses:{}},n=G(t,X);if(""==n)return a;const o=n.substring(1,n.length-1),r=JSON.parse(o);for(let s=0;s<r.length;s++){let t=r[s];const e=t.split("X")[0];t=t.split("X")[1];const n=t.split("Y"),o=[];for(let a=0;a<n.length-1;a++){const t=n[a].split(",");o.push({x:Number(t[0]),y:Number(t[1]),final_guess:B(Number(t[2]))})}a.guesses[Number(e)]=o}return a}function q(t,e){const a=new Date;a.setTime(a.getTime()+31536e8);const n="expires="+a.toUTCString(),o=[];for(let s=0;s<1e3;s++)if(s in e.guesses){const t=e.guesses[s];let a=s+"X";for(const e of t)a+=`${e.x},${e.y},${e.final_guess}Y`;o.push(a)}let r=JSON.stringify(o);r=r.replaceAll(" ",""),r=`{${r}}`,t.cookie=X+"="+r+";"+n}function Q(t,e){const a=Z(t),n=a.guesses;return e in n?n[e]:[]}function tt(t,e,a,n,o){const r=Z(t);e in r.guesses||(r.guesses[e]=[]),r.guesses[e].push({x:Number(a.toFixed(2)),y:Number(n.toFixed(2)),final_guess:o}),q(t,r)}var et=a("031a"),at=a.n(et);const nt=4;let ot=class extends P["b"]{};ot=Object(A["a"])([Object(P["a"])({props:{map:String,number:Number,target:{x:Number,y:Number},threshold:Number,debug_mode:Boolean,on_complete:Function},data(){return{active_pic:1,canvas:null,selected_x:null,selected_y:null,center_x:null,center_y:null,guesses:[],state:"playing",share_text:"SHARE!",image_width:null,image_height:null,click_debug_x:null,click_debug_y:null,canvas_init:!1,public_path:"/kiryueverywhere/",countdownUntilTomorrow:"",countdownUntilTomorrowTimer:null}},mounted(){var t=document.getElementById("canvas");this.canvas=t.getContext("2d"),this.timer=setInterval(()=>{this.draw()},250),this.countdownUntilTomorrowTimer=setInterval(()=>{this.countdownUntilTomorrow=this.countDownUntilNextLocation()},1e3)},beforeDestroy(){clearInterval(this.timer),clearInterval(this.countdownUntilTomorrowTimer)},methods:{countDownUntilNextLocation(){let t=new Date;const e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);e.setTime(e.getTime()+864e5);const a=e.getTime()-t.getTime(),n=Math.floor(a%864e5/36e5),o=Math.floor(a%36e5/6e4),r=Math.floor(a%6e4/1e3);return`${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},getState(){const t=Q(document,this.number);for(const e of t){if(e.final_guess==R.Win)return"win";if(e.final_guess==R.Lose)return"lose"}return"playing"},guessesLeftCount(){return nt-Q(document,this.number).length},unlockedImage(){const t=Q(document,this.number).length+1;return Math.min(t,nt)},showLocationImage(t){(t<=this.unlockedImage()||"playing"!=this.getState())&&(this.active_pic=t)},unlockNext(){this.active_pic=Math.min(this.unlockedImage()+1,nt)},getClassForLocationImage(t){return this.active_pic==t?"game_btn_active":this.unlockedImage()>=t?"game_btn_unlocked":"playing"!=this.getState()?"game_btn_unlocked_completed":"game_btn_inactive"},percentAsPos(t,e){return{x:t/100*this.image_width+this.center_x,y:e/100*this.image_height+this.center_y}},posAsPercent(t){return{x:(t.x-this.center_x)/this.image_width*100,y:(t.y-this.center_y)/this.image_height*100}},correctGuess(t){const e=this.posAsPercent({x:t.x,y:t.y}),a=Math.abs(e.x-this.target.x),n=Math.abs(e.y-this.target.y),o=document.getElementById("map");return this.click_debug_x=`px:${e.x} sx:${this.selected_x} cx:${this.center_x} iw:${o.width}`,this.click_debug_y=`py:${e.y} sy:${this.selected_y} cy:${this.center_y} ih:${o.height}`,a<=this.threshold&&n<=this.threshold},shareClick(){let t=`#KIRYU_EVERYWHERE #${this.number} 🗺️\n`;const e=Q(document,this.number);for(let n=0;n<e.length;n++){const a=Math.abs(e[n].x-this.target.x),o=Math.abs(e[n].y-this.target.y);let r;r=e[n].final_guess==R.Win?"🟢":"🔴",t+=`\n#${n+1}\t${r} distance:${(a+o).toFixed(2)}`}for(let n=0;n<this.guessesLeftCount();n++)t+=`\n#${n+1+e.length}\t⚫`;t+="\n\n",t+="https://sardap.github.io/kiryueverywhere/",navigator.clipboard.writeText(t),this.share_text="COPPIED!";let a=setInterval(()=>{this.share_text="SHARE!",clearInterval(a)},250)},submitButton(){if(null==this.selected_x||null==this.selected_y)return;const t=this.posAsPercent({x:this.selected_x,y:this.selected_y});console.log(`CLICK ${t.x}% ${t.y}%`);const e=Math.abs(t.x-this.target.x),a=Math.abs(t.y-this.target.y),n=document.getElementById("map");this.click_debug_x=`px:${t.x} sx:${this.selected_x} cx:${this.center_x} iw:${n.width}`,this.click_debug_y=`py:${t.y} sy:${this.selected_y} cy:${this.center_y} ih:${n.height}`;const o=Q(document,this.number).length;let r=R.NotFinal;this.correctGuess({x:this.selected_x,y:this.selected_y})?(console.log("win!"),r=R.Win):this.guessesLeftCount()-1==0?(console.log("lose!"),r=R.Lose):(console.log("unlock next! "+o),this.unlockNext(),console.log(`failure!: dist_x:${e}, dist_y:${a}, threshold:${this.threshold}`)),tt(document,this.number,t.x,t.y,r),this.selected_x=null,this.selected_y=null,this.draw()},canvasClick(t){"playing"==this.getState()&&(this.selected_x=t.offsetX,this.selected_y=t.offsetY,this.draw())},drawMap(){let t=this.canvas;const e=t.canvas.width,a=t.canvas.height;t.clearRect(0,0,e,a);const n=document.getElementById("map"),o=Math.min(e/n.width,a/n.height);this.image_width=n.width*o,this.image_height=n.height*o;const r=e/2-this.image_width/2,s=a/2-this.image_height/2;this.center_x=e/2,this.center_y=a/2,t.drawImage(n,r,s,this.image_width,this.image_height)},draw(){let t=this.canvas;if(t.clearRect(0,0,t.width,t.height),!this.canvas_init){this.canvas_init=!0;const e=.9*window.innerWidth,a=.6*window.innerHeight;t.canvas.width=e,t.canvas.height=a}this.drawMap();const e=Q(document,this.number),a=.05*t.canvas.height;for(const n of e){const e=this.percentAsPos(n.x,n.y),o=Math.abs(n.x-this.target.x),r=Math.abs(n.y-this.target.y);t.beginPath();let s="";if(o<=this.threshold&&r<=this.threshold)s="green";else{const t=o+r;s=t<6*this.threshold?at()("red","yellow",(t-this.threshold)/(6*this.threshold)*100).hex:"red"}t.strokeStyle=s,t.rect(e.x-a/2,e.y-a/2,a,a),t.stroke()}if(this.selected_x&&this.selected_y&&(t.beginPath(),t.strokeStyle="Black",t.rect(this.selected_x-a/2,this.selected_y-a/2,a,a),t.stroke()),"playing"!=this.getState()){const e=document.getElementById("target_icon"),n=this.percentAsPos(this.target.x,this.target.y);t.beginPath(),t.drawImage(e,n.x-a/2,n.y-a/2,a,a),t.stroke()}}}})],ot);var rt=ot,st=(a("1fc1"),a("6b0d")),it=a.n(st);const ct=it()(rt,[["render",K],["__scopeId","data-v-5e9c77ab"]]);var ut=ct;const lt={1:{map:"yakuza_3_kamuro_map",target:{x:-42,y:-17}},2:{map:"yakuza_kiwami_map",target:{x:16,y:46}},3:{map:"yakuza_0_osaka_map",target:{x:21,y:-29}},4:{map:"yakuza_kiwami_2_osaka_map",target:{x:-12,y:-4}},5:{map:"yakuza_3_rykyu_map",target:{x:2,y:32}},6:{map:"yakuza_0_kamuro_map",target:{x:-38,y:4}},7:{map:"yakuza_kiwami_map",target:{x:2,y:39}},8:{map:"yakuza_3_kamuro_map",target:{x:-30,y:23}},9:{map:"yakuza_3_rykyu_map",target:{x:15,y:13}},10:{map:"yakuza_kiwami_2_osaka_map",target:{x:38,y:-30}},11:{map:"yakuza_0_kamuro_map",target:{x:-3,y:-13}},12:{map:"yakuza_3_rykyu_map",target:{x:-12,y:21}},13:{map:"yakuza_kiwami_map",target:{x:9,y:40}},14:{map:"yakuza_kiwami_2_kamuro_map",target:{x:-24,y:8}},15:{map:"yakuza_0_osaka_map",target:{x:-3,y:10.991379310344826}},16:{map:"yakuza_3_kamuro_map",target:{x:-15,y:-39}},17:{map:"yakuza_4_kamuro_streets_map",target:{x:40.55449004984982,y:5.716878402903811}},18:{map:"yakuza_kiwami_map",target:{x:40.537318914097945,y:39.22800718132854}},19:{map:"yakuza_0_osaka_map",target:{x:6.21967840572853,y:-5.716878402903811}},20:{map:"yakuza_4_kamuro_streets_map",target:{x:-36.519217408073715,y:8.076225045372052}},21:{map:"yakuza_dead_souls_kamuro_streets_map",target:{x:7.465254387285787,y:46.91470054446461}},22:{map:"yakuza_kiwami_map",target:{x:34.73436194846733,y:-19.509981851179674}},23:{map:"yakuza_kiwami_2_osaka_map",target:{x:27.04893308863395,y:-6.624319419237749}},24:{map:"yakuza_0_kamuro_map",target:{x:11.149825783972126,y:3.720508166969147}},25:{map:"yakuza_3_kamuro_map",target:{x:27.609549956933677,y:25.17361111111111}},26:{map:"yakuza_kiwami_2_osaka_map",target:{x:-21.836649719495092,y:42.1875}},27:{map:"yakuza_0_osaka_map",target:{x:-13.119911010232022,y:4.861111111111112}},28:{map:"yakuza_4_kamuro_rooftops_map",target:{x:22.252283558379666,y:31.59722222222222}},29:{map:"yakuza_3_kamuro_map",target:{x:38.42168140860001,y:6.25}},30:{map:"yakuza_kiwami_2_kamuro_map",target:{x:16.44291692740926,y:13.88888888888889}},31:{map:"yakuza_kiwami_2_kamuro_map",target:{x:3.7444266270337923,y:18.92361111111111}},32:{map:"yakuza_0_kamuro_map",target:{x:-26.94541231126597,y:-2.604166666666667}},33:{map:"yakuza_kiwami_map",target:{x:23.333422862054146,y:-8.854166666666668}},34:{map:"yakuza_4_kamuro_rooftops_map",target:{x:-17.19494638602065,y:29.166666666666668}},35:{map:"yakuza_0_kamuro_map",target:{x:-11.975738805007099,y:-15.45138888888889}},36:{map:"yakuza_kiwami_map",target:{x:-19.04007305543618,y:-39.0625}},37:{map:"yakuza_3_kamuro_map",target:{x:10.61905767574372,y:12.67361111111111}},38:{map:"yakuza_3_rykyu_map",target:{x:4.75214243498818,y:9.895833333333332}},39:{map:"yakuza_4_kamuro_streets_map",target:{x:-29.723005620249065,y:15.104166666666666}},40:{map:"yakuza_0_osaka_map",target:{x:6.254841295575732,y:21.52777777777778}},41:{map:"yakuza_kiwami_2_kamuro_map",target:{x:5.860841677096372,y:35.06944444444444}},42:{map:"yakuza_4_kamuro_underground_map",target:{x:-16.107453811849652,y:44.79166666666667}},43:{map:"yakuza_3_kamuro_map",target:{x:-4.247623070297489,y:26.73611111111111}},44:{map:"yakuza_0_osaka_map",target:{x:18.764523886727194,y:-29.86111111111111}},45:{map:"yakuza_4_kamuro_underground_map",target:{x:-45.89211401832251,y:11.75438596491228}},46:{map:"yakuza_kiwami_2_kamuro_map",target:{x:19.741782491271987,y:-13.157894736842104}},47:{map:"yakuza_kiwami_map",target:{x:-3.961278357044309,y:24.385964912280702}},48:{map:"yakuza_3_rykyu_map",target:{x:-15.49085479656588,y:-3.684210526315789}},49:{map:"yakuza_kiwami_2_osaka_map",target:{x:6.347899904037793,y:36.84210526315789}},50:{map:"yakuza_0_osaka_map",target:{x:-13.874667212779029,y:14.561403508771932}},51:{map:"yakuza_kiwami_map",target:{x:43.1967973220546,y:17.017543859649123}},52:{map:"yakuza_kiwami_2_osaka_map",target:{x:-.6045618956226471,y:13.333333333333334}},53:{map:"yakuza_0_osaka_map",target:{x:-22.66195644753908,y:41.05263157894737}},54:{map:"yakuza_kiwami_map",target:{x:22.06997941781829,y:45.96491228070175}},55:{map:"yakuza_4_kamuro_streets_map",target:{x:-22.039314078500468,y:35.6140350877193}},56:{map:"yakuza_0_kamuro_map",target:{x:25.90541394135746,y:15.087719298245613}},57:{map:"yakuza_kiwami_2_kamuro_map",target:{x:2.632237665502932,y:6.315789473684211}},58:{map:"yakuza_3_kamuro_map",target:{x:45.654834761321915,y:16.842105263157894}},59:{map:"yakuza_5_osaka_map",target:{x:-27.593773254127413,y:-13.508771929824562}}},mt={yakuza_0_kamuro_map:{threshold:5,game_name:"Yakuza 0",plain_name:"Yakuza 0 Kamurocho"},yakuza_0_osaka_map:{threshold:5,game_name:"Yakuza 0",plain_name:"Yakuza 0 Sotenbori"},yakuza_kiwami_map:{threshold:5,game_name:"Yakuza Kiwami",plain_name:"Yakuza Kiwami Kamurocho"},yakuza_kiwami_2_kamuro_map:{threshold:5,game_name:"Yakuza Kiwami 2",plain_name:"Yakuza Kiwami 2 Kamurocho"},yakuza_kiwami_2_osaka_map:{threshold:5,game_name:"Yakuza Kiwami 2",plain_name:"Yakuza Kiwami 2 Kamurocho"},yakuza_3_kamuro_map:{threshold:5,game_name:"Yakuza 3",plain_name:"Yakuza 3 Kamurocho"},yakuza_3_rykyu_map:{threshold:5,game_name:"Yakuza 3",plain_name:"Yakuza 3 Ryukyu"},yakuza_4_kamuro_streets_map:{threshold:5,game_name:"Yakuza 4",plain_name:"Yakuza 4 Kamurocho Streets"},yakuza_4_kamuro_underground_map:{threshold:5,game_name:"Yakuza 4",plain_name:"Yakuza 4 Kamurocho Underground"},yakuza_4_kamuro_rooftops_map:{threshold:5,game_name:"Yakuza 4",plain_name:"Yakuza 4 Kamurocho Rooftops"},yakuza_dead_souls_kamuro_streets_map:{threshold:5,game_name:"Yakuza Dead Souls",plain_name:"Yakuza Dead Souls Kamurocho Streets"},yakuza_5_kamuro_map:{threshold:5,game_name:"Yakuza 5",plain_name:"Yakuza 5 Kamurocho"},yakuza_5_osaka_map:{threshold:5,game_name:"Yakuza 5",plain_name:"Yakuza 5 Sotenbori"},yakuza_5_fukuoka_map:{threshold:5,game_name:"Yakuza 5",plain_name:"Yakuza 5 Fukuoka"},yakuza_5_sapporo_map:{threshold:5,game_name:"Yakuza 5",plain_name:"Yakuza 5 Sapporo"},yakuza_5_nagoya_map:{threshold:5,game_name:"Yakuza 5",plain_name:"Yakuza 5 Nagoya"},yakuza_6_onomichi_map:{threshold:5,game_name:"Yakuza 6",plain_name:"Yakuza 5 Onomichi"},yakuza_6_kamuro_map:{threshold:5,game_name:"Yakuza 6",plain_name:"Yakuza 6 Kamurocho"}};var _t=a("998b");const gt=t=>(Object(n["r"])("data-v-3a83f39c"),t=t(),Object(n["p"])(),t),ht={class:"dialog"},pt={class:"center"},bt=gt(()=>Object(n["g"])("h2",null,"Your stats!",-1)),kt=gt(()=>Object(n["g"])("hr",null,null,-1)),dt=gt(()=>Object(n["g"])("hr",null,null,-1)),yt=gt(()=>Object(n["g"])("h3",null,"Map breakdown",-1));function Ot(t,e,a,o,r,s){return Object(n["o"])(),Object(n["f"])("div",ht,[Object(n["g"])("div",pt,[bt,kt,Object(n["g"])("p",null,Object(n["x"])(t.getWinRate())+"% Win rate",1),Object(n["g"])("p",null,"Since location:"+Object(n["x"])(t.stats.first_location),1),Object(n["g"])("p",null,"Current Streak:"+Object(n["x"])(t.current_streak),1),dt,yt,(Object(n["o"])(!0),Object(n["f"])(n["a"],null,Object(n["t"])(t.getMapBreakdown(),t=>(Object(n["o"])(),Object(n["f"])("div",{key:t.name,class:"map_breakdown_entry"},[Object(n["g"])("p",null,[Object(n["g"])("b",null,Object(n["x"])(t.name),1)]),Object(n["g"])("p",null,Object(n["x"])(t.tally.correct/(t.tally.incorrect+t.tally.correct)*100)+"%, 🟢"+Object(n["x"])(t.tally.correct)+" 🔴"+Object(n["x"])(t.tally.incorrect),1)]))),128)),Object(n["g"])("button",{onClick:e[0]||(e[0]=e=>t.closeDialog()),class:"btn"},"Okay")])])}function xt(t){const e=Tt(),a=new Map;let n=-1;for(let o=0;o<=e;o++)if(-1==n&&o in t&&(n=o),o in t){const e=lt[o];e.map in a||a.set(e.map,{correct:0,incorrect:0});const n=a.get(e.map),r=t[o];for(let t=0;t<r.length;t++)r[t].final_guess==R.Win?n.correct++:r[t].final_guess==R.Lose&&n.incorrect++}return{first_location:n,location_count:a}}function ft(t){for(let e=0;e<t.length;e++)if(t[e].final_guess==R.Win)return!0;return!1}function jt(t){const e=Tt();for(let a=e;a>0;a--){if(!(a in t))return e-a;if(!ft(t[a]))return e-a}return 0}var wt=Object(n["j"])({props:{},setup(){function t(){return!0}return{returnValue:t,closeDialog:_t["b"]}},data(){const t=Z(document).guesses;return{guesses:t,stats:xt(t),current_streak:jt(t)}},methods:{getWinRate(){let t=0,e=0;for(const[a,n]of this.stats.location_count)t+=n.correct,e+=n.incorrect;return t/(t+e)*100},getMapBreakdown(){const t=[];for(const[e,a]of this.stats.location_count)t.push({name:mt[e].plain_name,tally:a});return t}}});a("d503");const zt=it()(wt,[["render",Ot],["__scopeId","data-v-3a83f39c"]]);var vt=zt;async function St(){return await Object(_t["c"])(vt)}const Yt=new Date(2022,6,28,0,0,0);function Tt(){const t=new Date,e=864e5,a=t.getTime(),n=Yt.getTime();return Math.floor(Math.abs((a-n)/e))}var Ct=Object(n["j"])({components:{Game:ut,DialogWrapper:_t["a"]},data(){const t=Tt();return{show:!1,debug_mode:!1,current_cookie:Z(document),max_location_number:t,location_number:t,location_count:Object.keys(lt).length,dev_possible:!1}},methods:{openStats:async()=>{await St()?console.log("YES"):console.log("NO")},onComplete(){console.log("Jobs done")},resetGuessesCookie(){J(document)},getMap(){return lt[this.location_number].map},getTarget(){return lt[this.location_number].target},getGameName(){return mt[lt[this.location_number].map].game_name},getThreshold(){return mt[lt[this.location_number].map].threshold}}});a("ad75");const It=it()(Ct,[["render",x]]);var $t=It;Object(n["c"])($t).mount("#app")},d503:function(t,e,a){"use strict";a("818d")}});
//# sourceMappingURL=app.3b82f7d7.js.map